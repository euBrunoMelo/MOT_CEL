service: "yolo_service:YOLOService"
description: "YOLO Real-time Object Detection and Tracking Service"

include:
  - "*.py"
  - "*.pt"
  - "*.html"
  - "requirements.txt"

python:
  packages:
    - bentoml>=1.2.0
    - ultralytics>=8.0.0
    - opencv-python-headless>=4.8.0
    - numpy>=1.24.0
    - torch>=2.0.0
    - torchvision>=0.15.0
    - pillow>=10.0.0
    - websockets>=12.0
    - aiohttp>=3.9.0
    - requests>=2.31.0
    - pydantic>=2.0.0

docker:
  distro: debian
  system_packages:
    - ffmpeg
    - libsm6
    - libxext6
    - libglib2.0-0
    - libxrender-dev
    - libgomp1
    - libgl1-mesa-glx

envs:
  - name: OMP_NUM_THREADS
    value: "1"
  - name: OPENBLAS_NUM_THREADS
    value: "1"
  - name: MKL_NUM_THREADS
    value: "1"
  - name: VECLIB_MAXIMUM_THREADS
    value: "1"
  - name: NUMEXPR_NUM_THREADS
    value: "1"